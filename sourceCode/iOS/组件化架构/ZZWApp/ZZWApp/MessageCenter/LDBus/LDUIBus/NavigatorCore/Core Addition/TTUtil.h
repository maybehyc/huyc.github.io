//
//  Created by 庞辉 on 12/5/14.
//  Copyright (c) 2014 庞辉. All rights reserved.
//


#import <Foundation/Foundation.h>


/**
 * Add this macro before each category implementation, so we don't have to use
 * -all_load or -force_load to load object files from static libraries that only contain
 * categories and no classes.
 * See http://developer.apple.com/library/mac/#qa/qa2006/qa1490.html for more info.
 */
#define TT_FIX_CATEGORY_BUG(name)                                                                  \
    @interface TT_FIX_CATEGORY_BUG_                                                                \
    ##name : NSObject @end @implementation TT_FIX_CATEGORY_BUG_##name @end


///////////////////////////////////////////////////////////////////////////////////////////////////
// Safe releases
#define TT_RELEASE_SAFELY(__POINTER)                                                               \
    {                                                                                              \
        [__POINTER release];                                                                       \
        __POINTER = nil;                                                                           \
    }

/**
 * Creates a mutable dictionary which does not retain references to the values it contains.
 *
 * Typically used with dictionaries of delegates.
 */
NSMutableDictionary *TTCreateNonRetainingDictionary();
